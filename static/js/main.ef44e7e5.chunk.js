(this["webpackJsonpreact_dynamic-list-of-todos"]=this["webpackJsonpreact_dynamic-list-of-todos"]||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports=n(18)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(8),c=n.n(o),s=n(6),l=n(1),i=n(2),u=n(4),d=n(3),m=(n(14),n(15),"https://mate-api.herokuapp.com");function p(e){return fetch("".concat(m,"/users/").concat(e)).then((function(e){return e.json()})).then((function(e){return e.data}))}var f=n(5),h=n.n(f),v=(n(16),function(e){var t=e.todos,n=e.selectUser,r=e.selectedUserId,o=e.filterByTitle,c=e.selectByCompleted,s=e.changeCompleted;return a.a.createElement("div",{className:"TodoList"},a.a.createElement("h2",null,"Todos:"),a.a.createElement("label",{htmlFor:"filter"},"Filter todos by title "),a.a.createElement("input",{type:"text",id:"filter",className:"filter",onChange:function(e){return o(e.target.value)}}),a.a.createElement("select",{className:"select",onChange:function(e){return c(e.target.value)}},["all","active","completed"].map((function(e){return a.a.createElement("option",{key:e,value:e},e)}))),a.a.createElement("div",{className:"TodoList__list-container"},a.a.createElement("ul",{className:"TodoList__list"},t.map((function(e){var t=e.id,o=e.title,c=e.completed,l=e.userId;return a.a.createElement("li",{key:t,className:h()("TodoList__item",{"TodoList__item--checked":c,"TodoList__item--unchecked":!c})},a.a.createElement("label",null,a.a.createElement("input",{type:"checkbox",checked:c,onChange:function(){return s(t)}}),a.a.createElement("p",null,o)),a.a.createElement("button",{className:h()("button",{"TodoList__user-button--selected":r===l,"TodoList__user-button":r!==l}),type:"button",onClick:function(){return n(l)}},"User\xa0",l))})))))}),_=(n(17),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={user:{}},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;p(this.props.userId).then((function(t){return e.setState({user:t})}))}},{key:"componentDidUpdate",value:function(e){var t=this;e.userId!==this.props.userId&&p(this.props.userId).then((function(e){return t.setState({user:e})}))}},{key:"render",value:function(){var e=this.state.user,t=e.id,n=e.name,r=e.email,o=e.phone;return a.a.createElement("div",{className:"CurrentUser"},a.a.createElement("h2",{className:"CurrentUser__title"},a.a.createElement("span",null,"Selected user: ".concat(t))),a.a.createElement("h3",{className:"CurrentUser__name"},n),a.a.createElement("p",{className:"CurrentUser__email"},r),a.a.createElement("p",{className:"CurrentUser__phone"},o),a.a.createElement("button",{type:"button",className:"button",onClick:this.props.clearUser},"Clear"))}}]),n}(a.a.Component)),E=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={todos:[],todosForRender:[],selectedUserId:0},e.selectUser=function(t){e.setState({selectedUserId:t})},e.clearUser=function(){e.setState({selectedUserId:0})},e.handleChange=function(t){e.setState((function(e){return{todosForRender:e.todos.filter((function(e){return e.title?e.title.toLowerCase().includes(t.toLowerCase()):""}))}}))},e.selectByCompleted=function(t){switch(t){case"active":e.setState((function(e){return{todosForRender:e.todos.filter((function(e){return!e.completed}))}}));break;case"completed":e.setState((function(e){return{todosForRender:e.todos.filter((function(e){return e.completed}))}}));break;default:e.setState((function(e){return{todosForRender:e.todos}}))}},e.changeCompleted=function(t){e.setState((function(e){return{todosForRender:e.todosForRender.map((function(e){return e.id===t?Object(s.a)(Object(s.a)({},e),{},{completed:!e.completed}):e}))}}))},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(m,"/todos")).then((function(e){return e.json()})).then((function(e){return e.data})).then((function(e){return e.filter((function(e){return e.title}))})).then((function(t){return e.setState({todos:t,todosForRender:t})}))}},{key:"render",value:function(){var e=this.state,t=e.todosForRender,n=e.selectedUserId;return a.a.createElement("div",{className:"App"},a.a.createElement("div",{className:"App__sidebar"},a.a.createElement(v,{todos:t,selectUser:this.selectUser,selectedUserId:n,filterByTitle:this.handleChange,selectByCompleted:this.selectByCompleted,changeCompleted:this.changeCompleted})),a.a.createElement("div",{className:"App__content"},a.a.createElement("div",{className:"App__content-container"},n?a.a.createElement(_,{userId:n,clearUser:this.clearUser}):"No user selected")))}}]),n}(a.a.Component);c.a.render(a.a.createElement(E,null),document.getElementById("root"))}],[[9,1,2]]]);
//# sourceMappingURL=main.ef44e7e5.chunk.js.map